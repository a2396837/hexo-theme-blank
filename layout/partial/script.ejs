

<script src="https://www.layuicdn.com/layui-v2.5.6/layui.js"></script>

<% if (theme.scripts !== undefined && theme.scripts.length > 0) { %>
  <% theme.scripts.forEach(url => { %>
    <script src="<%= url_for(url) %>"></script>
  <% }); %>
<% } %>

<% if(theme.fancybox.enable) { %>
  <script>
    $("img").not('.page img').not('.nav-logo img').each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      $(this).wrap(element);
    });
  </script>
  <script src="<%= theme.fancybox.script %>"></script>
  <% } %>

<% if(theme.mathjax.enable) { %>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
  </script>
  <script src="<%= theme.mathjax.script %>"></script>
<% } %>

<script>
  var btntop = $('#gotop');
  btntop.on('click', function (e) {
    e.preventDefault();
    $('html, body').animate({ scrollTop: 0 }, '300');
  });
</script>

<script>
  $(document).ready(function () {
    $('code.hljs').each(function (i, block) {
      hljs.lineNumbersBlock(block);
    });
  });
</script>


<script>
  //reward
  jQuery(document).ready(function () {
    var QRBox = $('#QRBox');
    var MainBox = $('#MainBox');
    var AliPayQR = '<%= theme.reward.AliPayQR %>';
    var WeChanQR = '<%= theme.reward.WeChatQR %>';
  
    function showQR(QR) {
      if (QR) {
        MainBox.css('background-image', 'url(' + QR + ')');
      }
      $('#DonateText,#donateBox,#github').addClass('blur');
      QRBox.fadeIn(300, function (argument) {
        MainBox.addClass('showQR');
      });
    }
  
    $('#donateBox>li').click(function (event) {
      var thisID = $(this).attr('id');
      if (thisID === 'AliPay') {
        showQR(AliPayQR);
      } else if (thisID === 'WeChat') {
        showQR(WeChanQR);
      }
    });
  
    MainBox.click(function (event) {
      MainBox.removeClass('showQR').addClass('hideQR');
      setTimeout(function (a) {
        QRBox.fadeOut(300, function (argument) {
          MainBox.removeClass('hideQR');
        });
        $('#DonateText,#donateBox,#github').removeClass('blur');
      }, 600);
  
    });
  });
  </script>

